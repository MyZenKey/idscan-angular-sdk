{"version":3,"file":"myzenkey-idscan-angular-sdk.js","sources":["ng://@myzenkey/idscan-angular-sdk/src/payload.service.ts","ng://@myzenkey/idscan-angular-sdk/myzenkey-idscan-angular-sdk.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport axios, {AxiosResponse} from 'axios';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PayloadService {\n\n  constructor() { }\n\n// @ts-ignore\n/**\n * @export\n * @implements {IOneKosmos}\n */\n  async getSessionId(correlation_id: string, client_id :string ): Promise<AxiosResponse<any> | string>{\n    const url = `https://idscan-qa.xcijv.com/auth/lookupSessionId/?correlation_id=${correlation_id}&client_id=${client_id}`;\n    const retRep = await axios.get(`${url}`)\n      .then(data => {\n        if(!!data){\n        const session_id = data.data.message.session_id;\n        return session_id;\n      }\n      }).catch(error => {\n        console.log(error);\n        return error;\n      });\nreturn retRep;\n  }\n\n  async getStoredData(sessionId: string, publicKeyProvided: string): Promise<AxiosResponse<any> | string> {\n    // let sp_pub = 'PSJ1sEgVCWRmvZ4TkyBGoyieXl9p852LcejD5fOHUxBJV4Q8Z5a6i+VltTJUsfzmuTkDn5+846OIXpjp+7VE4A==';\n    // let sp_pr = 'ULcYSfv+5etTqBr2RxEF9HSJ33uJlkep9EL4+xzsWkI=';\n    // const licenseKey = '5809b7b7-886f-4c88-9061-59a2baf485be';\n    // const licenseKey_pilot = 'c77aa0ce-f00d-4843-86a9-38e6c1bf7d8e';\n    //return `{“first_name“:“Ben“, “last_name“:“Dover“, “last_4_social” :“3844“}`;\n    const url = `https://idscan-qa.xcijv.com/auth/getDataWithSessionId/`;\n    const retRep = await axios.get(`${url}?session_id=${sessionId}&ppk=${publicKeyProvided}`)\n      .then(data => {\n        const proof = data.data.message.payloadData\n        return proof;\n      }).catch(error => {\n        console.log(error);\n        return error;\n      });\n    return retRep;\n  }\n  async getStoredDataWithKeys(sessionId: string, privateKeyProvided: string, publicKeyProvided: string): Promise<AxiosResponse<any> | string> {\n    // let sp_pub = 'PSJ1sEgVCWRmvZ4TkyBGoyieXl9p852LcejD5fOHUxBJV4Q8Z5a6i+VltTJUsfzmuTkDn5+846OIXpjp+7VE4A==';\n    // let sp_pr = 'ULcYSfv+5etTqBr2RxEF9HSJ33uJlkep9EL4+xzsWkI=';\n    // const licenseKey = '5809b7b7-886f-4c88-9061-59a2baf485be';\n    // const licenseKey_pilot = 'c77aa0ce-f00d-4843-86a9-38e6c1bf7d8e';\n    //return `{“first_name“:“Ben“, “last_name“:“Dover“, “last_4_social” :“3844“}`;\n   publicKeyProvided= publicKeyProvided.replace(/\\+/g,'%2B');\n   publicKeyProvided= publicKeyProvided.replace(/\\=/g,'%3D');\n   privateKeyProvided= privateKeyProvided.replace(/\\+/g,'%2B');\n   privateKeyProvided= privateKeyProvided.replace(/\\=/g,'%3D');\n    const url = `https://idscan-qa.xcijv.com/auth/getDataWithSessionIdPrivateKeyPubKey/`;\n    const retRep = await axios.get(`${url}?session_id=${sessionId}&sp_publicKey=${publicKeyProvided}&sp_privateKey=${privateKeyProvided}`)\n      .then(data => {\n        const payload = data.data.message.payloadData\n        return payload;\n      }).catch(error => {\n        console.log(error);\n        return error;\n      });\n    return retRep;\n  }\n}","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;IAQE;KAAiB;;;;;;IAOX,qCAAY,GAAlB,UAAmB,cAAsB,EAAE,SAAiB;;;;;;wBACpD,GAAG,GAAG,sEAAoE,cAAc,mBAAc,SAAW,CAAC;wBACzG,qBAAM,KAAK,CAAC,GAAG,CAAC,KAAG,GAAK,CAAC;iCACrC,IAAI,CAAC,UAAA,IAAI;gCACR,IAAG,CAAC,CAAC,IAAI,EAAC;oCACV,IAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;oCAChD,OAAO,UAAU,CAAC;iCACnB;6BACA,CAAC,CAAC,KAAK,CAAC,UAAA,KAAK;gCACZ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gCACnB,OAAO,KAAK,CAAC;6BACd,CAAC,EAAA;;wBATE,MAAM,GAAG,SASX;wBACR,sBAAO,MAAM,EAAC;;;;KACX;IAEK,sCAAa,GAAnB,UAAoB,SAAiB,EAAE,iBAAyB;;;;;;wBAMxD,GAAG,GAAG,wDAAwD,CAAC;wBACtD,qBAAM,KAAK,CAAC,GAAG,CAAI,GAAG,oBAAe,SAAS,aAAQ,iBAAmB,CAAC;iCACtF,IAAI,CAAC,UAAA,IAAI;gCACR,IAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAA;gCAC3C,OAAO,KAAK,CAAC;6BACd,CAAC,CAAC,KAAK,CAAC,UAAA,KAAK;gCACZ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gCACnB,OAAO,KAAK,CAAC;6BACd,CAAC,EAAA;;wBAPE,MAAM,GAAG,SAOX;wBACJ,sBAAO,MAAM,EAAC;;;;KACf;IACK,8CAAqB,GAA3B,UAA4B,SAAiB,EAAE,kBAA0B,EAAE,iBAAyB;;;;;;;;;;;wBAMnG,iBAAiB,GAAE,iBAAiB,CAAC,OAAO,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC;wBAC1D,iBAAiB,GAAE,iBAAiB,CAAC,OAAO,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC;wBAC1D,kBAAkB,GAAE,kBAAkB,CAAC,OAAO,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC;wBAC5D,kBAAkB,GAAE,kBAAkB,CAAC,OAAO,CAAC,KAAK,EAAC,KAAK,CAAC,CAAC;wBACrD,GAAG,GAAG,wEAAwE,CAAC;wBACtE,qBAAM,KAAK,CAAC,GAAG,CAAI,GAAG,oBAAe,SAAS,sBAAiB,iBAAiB,uBAAkB,kBAAoB,CAAC;iCACnI,IAAI,CAAC,UAAA,IAAI;gCACR,IAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAA;gCAC7C,OAAO,OAAO,CAAC;6BAChB,CAAC,CAAC,KAAK,CAAC,UAAA,KAAK;gCACZ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gCACnB,OAAO,KAAK,CAAC;6BACd,CAAC,EAAA;;wBAPE,MAAM,GAAG,SAOX;wBACJ,sBAAO,MAAM,EAAC;;;;KACf;;;gBAhEF,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;yBALD;CAGA;;ACHA;;GAEG;;;;"}