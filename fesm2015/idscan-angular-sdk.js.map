{"version":3,"file":"idscan-angular-sdk.js","sources":["ng://idscan-angular-sdk/src/payload.service.ts","ng://idscan-angular-sdk/idscan-angular-sdk.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport axios, {AxiosResponse} from 'axios';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PayloadService {\n\n  constructor() { }\n\n// @ts-ignore\n/**\n * @export\n * @implements {IOneKosmos}\n */\n  async getSessionId(correlation_id: string, client_id :string ): Promise<AxiosResponse<any> | string>{\n    const url = `https://idscan-qa.xcijv.com/auth/lookupSessionId/?correlation_id=${correlation_id}&client_id=${client_id}`;\n    const retRep = await axios.get(`${url}`)\n      .then(data => {\n        if(!!data){\n        const session_id = data.data.message.session_id;\n        return session_id;\n      }\n      }).catch(error => {\n        console.log(error);\n        return error;\n      });\nreturn retRep;\n  }\n\n  async getStoredData(sessionId: string, publicKeyProvided: string): Promise<AxiosResponse<any> | string> {\n    // let sp_pub = 'PSJ1sEgVCWRmvZ4TkyBGoyieXl9p852LcejD5fOHUxBJV4Q8Z5a6i+VltTJUsfzmuTkDn5+846OIXpjp+7VE4A==';\n    // let sp_pr = 'ULcYSfv+5etTqBr2RxEF9HSJ33uJlkep9EL4+xzsWkI=';\n    // const licenseKey = '5809b7b7-886f-4c88-9061-59a2baf485be';\n    // const licenseKey_pilot = 'c77aa0ce-f00d-4843-86a9-38e6c1bf7d8e';\n    //return `{“first_name“:“Ben“, “last_name“:“Dover“, “last_4_social” :“3844“}`;\n    const url = `https://idscan-qa.xcijv.com/auth/getDataWithSessionId/`;\n    const retRep = await axios.get(`${url}?session_id=${sessionId}&ppk=${publicKeyProvided}`)\n      .then(data => {\n        const proof = data.data.message.payloadData\n        return proof;\n      }).catch(error => {\n        console.log(error);\n        return error;\n      });\n    return retRep;\n  }\n  async getStoredDataWithKeys(sessionId: string, privateKeyProvided: string, publicKeyProvided: string): Promise<AxiosResponse<any> | string> {\n    // let sp_pub = 'PSJ1sEgVCWRmvZ4TkyBGoyieXl9p852LcejD5fOHUxBJV4Q8Z5a6i+VltTJUsfzmuTkDn5+846OIXpjp+7VE4A==';\n    // let sp_pr = 'ULcYSfv+5etTqBr2RxEF9HSJ33uJlkep9EL4+xzsWkI=';\n    // const licenseKey = '5809b7b7-886f-4c88-9061-59a2baf485be';\n    // const licenseKey_pilot = 'c77aa0ce-f00d-4843-86a9-38e6c1bf7d8e';\n    //return `{“first_name“:“Ben“, “last_name“:“Dover“, “last_4_social” :“3844“}`;\n    const url = `https://idscan-qa.xcijv.com/auth/getDataWithSessionIdPrivateKeyPubKey/`;\n    const retRep = await axios.get(`${url}?session_id=${sessionId}&sp_publicKey=${publicKeyProvided}&sp_privateKey=${privateKeyProvided}`)\n      .then(data => {\n        const payload = data.data.message.payloadData\n        return payload;\n      }).catch(error => {\n        console.log(error);\n        return error;\n      });\n    return retRep;\n  }\n}","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;MAMa,cAAc;IAEzB,iBAAiB;;;;;;IAOX,YAAY,CAAC,cAAsB,EAAE,SAAiB;;YAC1D,MAAM,GAAG,GAAG,oEAAoE,cAAc,cAAc,SAAS,EAAE,CAAC;YACxH,MAAM,MAAM,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC;iBACrC,IAAI,CAAC,IAAI;gBACR,IAAG,CAAC,CAAC,IAAI,EAAC;oBACV,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC;oBAChD,OAAO,UAAU,CAAC;iBACnB;aACA,CAAC,CAAC,KAAK,CAAC,KAAK;gBACZ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,OAAO,KAAK,CAAC;aACd,CAAC,CAAC;YACT,OAAO,MAAM,CAAC;SACX;KAAA;IAEK,aAAa,CAAC,SAAiB,EAAE,iBAAyB;;;;;;;YAM9D,MAAM,GAAG,GAAG,wDAAwD,CAAC;YACrE,MAAM,MAAM,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,eAAe,SAAS,QAAQ,iBAAiB,EAAE,CAAC;iBACtF,IAAI,CAAC,IAAI;gBACR,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAA;gBAC3C,OAAO,KAAK,CAAC;aACd,CAAC,CAAC,KAAK,CAAC,KAAK;gBACZ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,OAAO,KAAK,CAAC;aACd,CAAC,CAAC;YACL,OAAO,MAAM,CAAC;SACf;KAAA;IACK,qBAAqB,CAAC,SAAiB,EAAE,kBAA0B,EAAE,iBAAyB;;;;;;;YAMlG,MAAM,GAAG,GAAG,wEAAwE,CAAC;YACrF,MAAM,MAAM,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,eAAe,SAAS,iBAAiB,iBAAiB,kBAAkB,kBAAkB,EAAE,CAAC;iBACnI,IAAI,CAAC,IAAI;gBACR,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,WAAW,CAAA;gBAC7C,OAAO,OAAO,CAAC;aAChB,CAAC,CAAC,KAAK,CAAC,KAAK;gBACZ,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,OAAO,KAAK,CAAC;aACd,CAAC,CAAC;YACL,OAAO,MAAM,CAAC;SACf;KAAA;;;;YA5DF,UAAU,SAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;ACLD;;GAEG;;;;"}